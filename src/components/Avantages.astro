---
const avantages = [
  {
    id: "main",
    icon: "‚ö°",
    titre: "Jouez Votre Premi√®re Chanson en 7 Jours",
    description: "Notre m√©thode exclusive garantit des r√©sultats rapides. 92% de nos √©l√®ves jouent leur premi√®re chanson en moins de 5 jours. Si vous n'y arrivez pas en 7 jours, nous vous remboursons int√©gralement.",
    stat: "7 JOURS",
    statLabel: "Premi√®re chanson garantie",
    highlight: "92% de r√©ussite en 5 jours",
    theme: "main",
    size: "large"
  },
  {
    id: "teacher",
    icon: "üéì",
    titre: "M√©thode Professionnelle",
    description: "D√©velopp√©e par Fred Fieff√©, professeur certifi√© avec 15 ans d'exp√©rience.",
    stat: "80 000+",
    statLabel: "√©l√®ves form√©s",
    theme: "piano",
    size: "medium"
  },
  {
    id: "time",
    icon: "üéØ",
    titre: "15 Min/Jour Suffisent",
    description: "Apprentissage adapt√© aux adultes. Progressez √† votre rythme, sans stress.",
    stat: "15 min",
    statLabel: "par jour",
    theme: "ukulele",
    size: "medium"
  },
  {
    id: "support",
    icon: "üí™",
    titre: "Support R√©actif",
    description: "R√©ponses sous 24h pour toutes vos questions sur les cours et votre progression.",
    stat: "24h",
    statLabel: "temps de r√©ponse",
    theme: "guitar",
    size: "wide"
  }
];
---

<section id="avantages" class="avantages section-padding">
  <div class="container">
    <div class="section-header">
      <span class="badge">‚ú® Ce qui nous rend uniques</span>
      <h2 class="section-title">Pourquoi Plus de 80 000 Musiciens Nous Font Confiance ?</h2>
      <p class="section-subtitle">La seule plateforme qui combine m√©thode professionnelle, r√©sultats rapides et support r√©actif</p>
    </div>

    <!-- Bento Grid Layout -->
    <div class="bento-grid">
      {avantages.map((avantage, index) => (
        <div
          class={`bento-card card theme-${avantage.theme} size-${avantage.size}`}
          style={`--card-index: ${index}`}
          data-size={avantage.size}
        >
          {avantage.size === 'large' && (
            <div class="large-card-content">
              <div class="large-card-header">
                <div class="icon-wrapper-large">
                  <span class="avantage-icon">{avantage.icon}</span>
                </div>
                <div class="large-stat">
                  <div class="stat-number-large">{avantage.stat}</div>
                  <div class="stat-label-large">{avantage.statLabel}</div>
                </div>
              </div>
              <h3 class="avantage-titre-large">{avantage.titre}</h3>
              <p class="avantage-description-large">{avantage.description}</p>
              <div class="highlight-badge">
                <span class="highlight-icon">üéâ</span>
                <span>{avantage.highlight}</span>
              </div>
            </div>
          )}

          {avantage.size !== 'large' && (
            <>
              <div class="stat-badge">
                <div class="stat-number">{avantage.stat}</div>
                <div class="stat-label">{avantage.statLabel}</div>
              </div>
              <div class="icon-wrapper">
                <span class="avantage-icon">{avantage.icon}</span>
              </div>
              <h3 class="avantage-titre">{avantage.titre}</h3>
              <p class="avantage-description">{avantage.description}</p>
            </>
          )}
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .avantages {
    background: linear-gradient(180deg, var(--surface-white) 0%, var(--surface-light) 100%);
    position: relative;
    overflow: hidden;
  }

  .avantages::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1), transparent);
  }

  .section-header {
    text-align: center;
    max-width: 900px;
    margin: 0 auto var(--space-16);
    animation: fadeInUp 0.8s ease;
  }

  .section-header .badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-2) var(--space-4);
    background: var(--brand-50);
    color: var(--brand-700);
    border-radius: var(--radius-full);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    margin-bottom: var(--space-4);
  }

  .section-header .section-title {
    font-size: clamp(var(--text-3xl), 4vw, var(--text-5xl));
    font-weight: var(--font-extrabold);
    color: var(--gray-900);
    margin-bottom: var(--space-4);
    line-height: var(--leading-tight);
  }

  .section-header .section-subtitle {
    font-size: var(--text-lg);
    color: var(--gray-600);
    line-height: var(--leading-relaxed);
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Bento Grid Layout */
  .bento-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto;
    gap: var(--space-6);
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Large card (main highlight) - spans 2 columns and 2 rows */
  .size-large {
    grid-column: span 2;
    grid-row: span 2;
  }

  /* Medium cards - span 1 column each */
  .size-medium {
    grid-column: span 1;
  }

  /* Wide card - spans full width */
  .size-wide {
    grid-column: span 4;
  }

  .bento-card {
    position: relative;
    padding: var(--space-8);
    text-align: center;
    animation: cardFadeIn 0.6s ease backwards;
    animation-delay: calc(var(--card-index) * 0.1s);
    overflow: hidden;
    background: white;
    border-radius: var(--radius-2xl);
    border: 2px solid var(--gray-200);
    box-shadow: var(--shadow-sm);
    transition: var(--transition-base);
  }

  /* Reserve space above medium & wide cards so badges don't overlap the icon */
  .bento-card:not(.size-large) {
    padding-top: calc(var(--space-8) + 2.75rem);
  }

  .bento-card:not(.size-large) .icon-wrapper {
    margin-top: var(--space-4);
  }

  @keyframes cardFadeIn {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .bento-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
    border-color: var(--card-color-light);
  }

  .bento-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--card-color);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--duration-base) var(--ease-out);
  }

  .bento-card:hover::before {
    transform: scaleX(1);
  }

  /* Theme-specific colors avec nouvelles variables */
  .theme-guitar {
    --card-color: var(--guitar-500);
    --card-color-light: var(--guitar-400);
  }

  .theme-piano {
    --card-color: var(--piano-500);
    --card-color-light: var(--piano-400);
  }

  .theme-ukulele {
    --card-color: var(--ukulele-500);
    --card-color-light: var(--ukulele-400);
  }

  .theme-main {
    --card-color: var(--brand-500);
    --card-color-light: var(--brand-400);
  }

  /* Large Card Specific Styles */
  .large-card-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: space-between;
    text-align: left;
  }

  .large-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
  }

  .icon-wrapper-large {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--card-color) 0%, rgba(255,255,255,0.1) 100%);
    border-radius: var(--border-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    transition: var(--transition-base);
  }

  .bento-card:hover .icon-wrapper-large {
    transform: scale(1.05) rotate(-5deg);
  }

  .large-stat {
    text-align: right;
  }

  .stat-number-large {
    font-size: 4rem;
    font-weight: 900;
    line-height: 1;
    color: var(--card-color);
    margin-bottom: 0.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }

  .stat-label-large {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color-text-light);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .avantage-titre-large {
    font-size: 2.2rem;
    font-weight: 800;
    color: var(--color-text);
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .avantage-description-large {
    font-size: 1.15rem;
    line-height: 1.7;
    color: var(--color-text-light);
    margin-bottom: 1.5rem;
  }

  .highlight-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.8rem;
    background: linear-gradient(135deg, var(--card-color) 0%, rgba(255,255,255,0.1) 100%);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-lg);
    font-weight: 700;
    font-size: 1.1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    50% {
      transform: scale(1.02);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }
  }

  .highlight-icon {
    font-size: 1.5rem;
    animation: bounce 1.5s ease-in-out infinite;
  }

  @keyframes bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  /* Medium/Wide Card Styles */
  .stat-badge {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--card-color);
    color: white;
    padding: 0.8rem 1.2rem;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    z-index: 2;
    transition: var(--transition-base);
  }

  .bento-card:hover .stat-badge {
    transform: scale(1.05);
  }

  .stat-number {
    font-size: 1.5rem;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 0.3rem;
  }

  .stat-label {
    font-size: 0.75rem;
    opacity: 0.9;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .icon-wrapper {
    width: 90px;
    height: 90px;
    background: linear-gradient(135deg, var(--card-color) 0%, rgba(255,255,255,0.1) 100%);
    border-radius: var(--border-radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    box-shadow: var(--box-shadow);
    transition: var(--transition-base);
    position: relative;
    z-index: 1;
  }

  .bento-card:hover .icon-wrapper {
    transform: scale(1.1) rotate(5deg);
  }

  .avantage-icon {
    font-size: 3rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
  }

  .size-large .avantage-icon {
    font-size: 3.5rem;
  }

  .avantage-titre {
    color: var(--color-text);
    margin-bottom: 1rem;
    font-size: 1.3rem;
    font-weight: 700;
    line-height: 1.3;
  }

  .avantage-description {
    color: var(--color-text-light);
    line-height: 1.7;
    font-size: 0.95rem;
  }

  /* Responsive Layouts */
  @media (max-width: 1024px) {
    .bento-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .size-large {
      grid-column: span 2;
      grid-row: span 1;
    }

    .size-medium {
      grid-column: span 1;
    }

    .size-wide {
      grid-column: span 2;
    }

    .stat-number-large {
      font-size: 3rem;
    }

    .avantage-titre-large {
      font-size: 1.8rem;
    }

    .avantage-description-large {
      font-size: 1rem;
    }
  }

  @media (max-width: 640px) {
    .bento-grid {
      grid-template-columns: 1fr;
    }

    .size-large,
    .size-medium,
    .size-wide {
      grid-column: span 1;
    }

    .bento-card {
      padding: 2rem;
    }

    .bento-card:not(.size-large) {
      padding-top: 2.5rem;
    }

    .bento-card:not(.size-large) .icon-wrapper {
      margin-top: 1rem;
    }

    .large-card-header {
      flex-direction: column;
      gap: 1.5rem;
    }

    .large-stat {
      text-align: left;
    }

    .stat-number-large {
      font-size: 2.5rem;
    }

    .avantage-titre-large {
      font-size: 1.6rem;
    }

    .highlight-badge {
      width: 100%;
      justify-content: center;
    }

    .stat-badge {
      position: static;
      display: inline-block;
      margin-bottom: 1rem;
    }
  }
</style>
