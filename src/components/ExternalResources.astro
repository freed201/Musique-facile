---
/**
 * Ressources Externes Optimisées
 * - Les fonts sont maintenant chargées localement via @fontsource (pas de blocage externe)
 * - Scripts vidéo chargés avec defer pour ne pas bloquer le rendu
 * - Preconnect aux domaines externes pour réduire la latence
 */

const externalScripts = [
  {
    url: "https://player.vimeo.com/api/player.js",
    type: 'script',
    defer: true
  },
  {
    url: "https://www.youtube.com/iframe_api",
    type: 'script',
    defer: true
  }
];

// Preconnect aux domaines externes pour améliorer les temps de chargement
const preconnectDomains = [
  'https://www.youtube.com',
  'https://player.vimeo.com',
  'https://www.googletagmanager.com'
];
---

<!-- Preconnect pour améliorer les temps de chargement des ressources externes -->
{preconnectDomains.map(domain => (
  <>
    <link rel="preconnect" href={domain} />
    <link rel="dns-prefetch" href={domain} />
  </>
))}

<!-- Scripts externes avec defer (ne bloquent pas le rendu) -->
{externalScripts.map(resource => (
  <script
    src={resource.url}
    defer={resource.defer}
    crossorigin="anonymous"
  ></script>
))}