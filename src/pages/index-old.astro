---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import UrgencyBanner from '../components/UrgencyBanner.astro';
import PromoSection from '../components/PromoSection.astro';
import Hero from '../components/Hero.astro';
import HeroNew from '../components/HeroNew.astro';
import Avantages from '../components/Avantages.astro';
import Cours from '../components/Cours.astro';
import KidsSection from '../components/KidsSection.astro';
import Temoignages from '../components/Temoignages.astro';
import FreePianoCourse from '../components/FreePianoCourse.astro';
import SocialProof from '../components/SocialProof.astro';
import RandomBlogPosts from '../components/RandomBlogPosts.astro';
import Resultats from '../components/Resultats.astro';
import LeadMagnetCTA from '../components/LeadMagnetCTA.astro';
import FAQ from '../components/FAQ.astro';
import About from '../components/About.astro';
import QuizCTA from '../components/QuizCTA.astro';
import Footer from '../components/Footer.astro';
import StickyCTAMobile from '../components/StickyCTAMobile.astro';
import InteractiveChordWidget from '../components/InteractiveChordWidget.astro';
import PersonalizationQuiz from '../components/PersonalizationQuiz.astro';
import PricingPreview from '../components/PricingPreview.astro';
import FOMONotifications from '../components/FOMONotifications.astro';

// Construction de l'URL canonique
const canonicalURL = new URL(Astro.url.pathname, 'https://musique-facile.fr').toString();

// M√©tadonn√©es pour SEO + LLM (style enseignant, non marketing)
const title = "Cours de Guitare, Piano, Ukul√©l√© en Ligne ‚Äî M√©thode Fred Fieff√© | Musique Facile";
const description = "Formations en ligne pour apprendre la guitare, le piano, l'ukul√©l√© et le solf√®ge. M√©thode progressive cr√©√©e par Fred Fieff√©, professeur certifi√© avec 15 ans d'exp√©rience. Plus de 80 000 √©l√®ves form√©s, 4.7/5 de note moyenne sur 2 847 avis. Cours adapt√©s aux d√©butants et interm√©diaires, avec vid√©os pas-√†-pas et exercices pratiques.";
const keywords = "cours guitare en ligne, apprendre piano, formation ukul√©l√© d√©butant, solf√®ge facile, cours musique en ligne, Fred Fieff√©, tutoriel guitare d√©butant, m√©thode piano, √©cole musique online";
const ogImage = "https://musique-facile.fr/logo.webp";

// Construction des donn√©es structur√©es enrichies pour LLM
const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "EducationalOrganization",
  "name": "Musique Facile",
  "url": "https://musique-facile.fr",
  "logo": "https://musique-facile.fr/logo.webp",
  "description": "√âcole de musique en ligne sp√©cialis√©e dans l'enseignement de la guitare, du piano, de l'ukul√©l√© et du solf√®ge pour tous niveaux. Plus de 80 000 √©l√®ves form√©s depuis 2015.",
  "foundingDate": "2015",
  "founder": {
    "@type": "Person",
    "name": "Fred Fieff√©",
    "jobTitle": "Professeur de Musique Certifi√©",
    "description": "Professeur de guitare, piano, ukul√©l√© et solf√®ge avec 15 ans d'exp√©rience. Cr√©ateur de la m√©thode Musique Facile, Fred a form√© plus de 80 000 √©l√®ves avec une approche progressive et pratique.",
    "sameAs": [
      "https://www.youtube.com/@Musique-Facile",
      "https://www.tiktok.com/@musique_facile"
    ]
  },
  "sameAs": [
    "https://www.youtube.com/@Musique-Facile",
    "https://www.tiktok.com/@musique_facile",
    "https://instagram.com/guitare_et_ukulele_facile/?hl=fr",
    "https://facebook.com/MusiqueFacileFacebook"
  ],
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "FR"
  },
  "knowsAbout": ["Guitare", "Piano", "Ukul√©l√©", "Solf√®ge", "Formation musicale en ligne", "Enseignement musical progressif"],
  "areaServed": "FR",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.7",
    "reviewCount": "2847",
    "bestRating": "5",
    "worstRating": "1"
  }
};

const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Musique Facile",
  "url": "https://musique-facile.fr",
  "description": "Formations en ligne pour apprendre la guitare, le piano, l'ukul√©l√© et le solf√®ge",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://musique-facile.fr/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
};

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "name": "Accueil",
    "item": "https://musique-facile.fr"
  }]
};

// FAQPage Schema pour LLM
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Combien de temps faut-il pour apprendre la guitare en ligne ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Avec la m√©thode Musique Facile, 92% des √©l√®ves jouent leur premi√®re chanson en 5 jours. En pratiquant 15 minutes par jour, vous ma√Ætriserez les accords de base en 3 semaines. Vous apprendrez √† jouer vos premiers morceaux et √† vous amuser en quelques le√ßons. Notre progression est structur√©e en petites √©tapes : vous commencez par 3 accords simples (Do, Sol, R√©), puis apprenez √† les encha√Æner."
      }
    },
    {
      "@type": "Question",
      "name": "Qui est Fred Fieff√© et quelle est sa m√©thode d'enseignement ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Fred Fieff√© est un professeur de musique certifi√© avec 15 ans d'exp√©rience. Il a form√© plus de 80 000 √©l√®ves via ses cours en ligne de guitare, piano, ukul√©l√© et solf√®ge, avec une note moyenne de 4.7/5 sur 2 847 avis v√©rifi√©s. Fred utilise une approche progressive bas√©e sur la pratique imm√©diate. Sa m√©thode repose sur 4 piliers : 1) Vid√©os HD en gros plan sur les mains, 2) Explications claires sans jargon, 3) Exercices pratiques √† chaque √©tape, 4) Application imm√©diate."
      }
    },
    {
      "@type": "Question",
      "name": "Les cours sont-ils adapt√©s aux d√©butants complets ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Oui, tous nos cours commencent au niveau z√©ro. Aucune connaissance musicale pr√©alable n'est requise. Les le√ßons sont progressives, expliqu√©es pas √† pas en vid√©o, avec des exercices pratiques √† chaque √©tape. Les cours ont √©t√© r√©alis√©s avec l'apport des neurosciences pour les organiser d'une mani√®re adapt√©e √† un apprentissage efficace pour les adultes."
      }
    },
    {
      "@type": "Question",
      "name": "Quel est le prix des formations et existe-t-il un essai gratuit ?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Nos formations sont disponibles √† l'achat individuel par instrument (guitare, piano, ukul√©l√©, solf√®ge). Chaque formation donne un acc√®s √† vie √† tous les cours de l'instrument choisi, avec entre 30 et 190 vid√©os selon l'instrument. Une garantie satisfait ou rembours√© de 15 jours est incluse. Des offres sp√©ciales sont r√©guli√®rement disponibles sur la page /offre."
      }
    }
  ]
};

// Course Schemas pour chaque instrument
const courseSchemas = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Course",
      "@id": "https://musique-facile.fr/cours/cours-de-guitare",
      "name": "Cours de Guitare pour D√©butants",
      "description": "Apprenez la guitare avec une m√©thode progressive en vid√©o. Plus de 400 le√ßons pour ma√Ætriser les accords, les rythmiques et jouer vos morceaux pr√©f√©r√©s. 92% des √©l√®ves jouent leur premi√®re chanson en 5 jours.",
      "provider": {
        "@type": "EducationalOrganization",
        "name": "Musique Facile",
        "url": "https://musique-facile.fr"
      },
      "instructor": {
        "@type": "Person",
        "name": "Fred Fieff√©",
        "description": "Professeur de musique certifi√© avec 15 ans d'exp√©rience et 80 000+ √©l√®ves form√©s"
      },
      "educationalLevel": "D√©butant √† Interm√©diaire",
      "inLanguage": "fr-FR",
      "isAccessibleForFree": false,
      "hasCourseInstance": {
        "@type": "CourseInstance",
        "courseMode": "online",
        "courseWorkload": "PT15M"
      }
    },
    {
      "@type": "Course",
      "@id": "https://musique-facile.fr/cours/cours-de-piano",
      "name": "Cours de Piano pour D√©butants",
      "description": "D√©couvrez le piano avec une m√©thode accessible et progressive. Apprenez √† lire les partitions, ma√Ætriser les accords et jouer vos morceaux pr√©f√©r√©s. Plus de 300 le√ßons vid√©o pour tous niveaux.",
      "provider": {
        "@type": "EducationalOrganization",
        "name": "Musique Facile",
        "url": "https://musique-facile.fr"
      },
      "instructor": {
        "@type": "Person",
        "name": "Fred Fieff√©"
      },
      "educationalLevel": "D√©butant √† Interm√©diaire",
      "inLanguage": "fr-FR",
      "isAccessibleForFree": false
    },
    {
      "@type": "Course",
      "@id": "https://musique-facile.fr/cours/cours-de-ukulele",
      "name": "Cours d'Ukul√©l√© pour D√©butants",
      "description": "Initiez-vous √† l'ukul√©l√© avec une m√©thode simple et ludique. Apprenez les accords de base, les rythmiques et jouez vos premi√®res chansons en quelques jours. Plus de 200 le√ßons vid√©o progressives.",
      "provider": {
        "@type": "EducationalOrganization",
        "name": "Musique Facile",
        "url": "https://musique-facile.fr"
      },
      "instructor": {
        "@type": "Person",
        "name": "Fred Fieff√©"
      },
      "educationalLevel": "D√©butant √† Interm√©diaire",
      "inLanguage": "fr-FR",
      "isAccessibleForFree": false
    },
    {
      "@type": "Course",
      "@id": "https://musique-facile.fr/cours/cours-de-solfege",
      "name": "Cours de Solf√®ge pour D√©butants",
      "description": "Ma√Ætrisez les bases de la th√©orie musicale avec une approche progressive et pratique. Apprenez √† lire les notes, comprendre les rythmes et le cycle des quintes. Plus de 150 le√ßons vid√©o.",
      "provider": {
        "@type": "EducationalOrganization",
        "name": "Musique Facile",
        "url": "https://musique-facile.fr"
      },
      "instructor": {
        "@type": "Person",
        "name": "Fred Fieff√©"
      },
      "educationalLevel": "D√©butant √† Interm√©diaire",
      "inLanguage": "fr-FR",
      "isAccessibleForFree": false
    }
  ]
};
---

<Layout
  title={title}
  description={description}
  ogImage={ogImage}
  canonicalUrl={canonicalURL}
  robots="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
>
  <Fragment slot="head">
    <meta name="author" content="Fred Fieff√© - Musique Facile" />
    <script type="application/ld+json" set:html={JSON.stringify(organizationSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(websiteSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
    <script type="application/ld+json" set:html={JSON.stringify(courseSchemas)} />
  </Fragment>

  <Header />
  <UrgencyBanner />
  <!-- <PromoSection /> -->
  <!-- <Hero /> -->
  <HeroNew />
  <Avantages />
  <!-- <InteractiveChordWidget /> -->
  <!-- <QuizCTA variant="full" /> -->
  <Cours />
  <KidsSection />
  <Temoignages />
  <!-- <PersonalizationQuiz /> -->
  <!-- <LeadMagnetCTA variant="full" /> -->
  <FAQ />
  <FreePianoCourse />

  <!-- <SocialProof /> -->
  <RandomBlogPosts />
  <PricingPreview />
  <Resultats />
  <About />

  <section class="course-buttons">
    <div class="container">
      <h2 class="section-title">Alors, pr√™t(e) √† rejoindre l'aventure ?</h2>
      <div class="buttons-grid">
        <a href="/cours/cours-de-guitare" class="course-button theme-guitar">
          <div class="button-background" style="background-image: url('/images/cours/hero-guitare.webp')"></div>
          <div class="button-content">
            <span class="button-icon">üé∏</span>
            <div class="button-text-wrapper">
              <span class="button-title">Cours de Guitare</span>
              <span class="button-description">Apprenez la guitare pas √† pas</span>
            </div>
            <span class="button-arrow">‚Üí</span>
          </div>
        </a>

        <a href="/cours/cours-de-piano" class="course-button theme-piano">
          <div class="button-background" style="background-image: url('/images/cours/hero-piano.webp')"></div>
          <div class="button-content">
            <span class="button-icon">üéπ</span>
            <div class="button-text-wrapper">
              <span class="button-title">Cours de Piano</span>
              <span class="button-description">D√©couvrez le piano facilement</span>
            </div>
            <span class="button-arrow">‚Üí</span>
          </div>
        </a>

        <a href="/cours/cours-de-ukulele" class="course-button theme-ukulele">
          <div class="button-background" style="background-image: url('/images/cours/hero-ukulele.webp')"></div>
          <div class="button-content">
            <span class="button-icon">üèñÔ∏è</span>
            <div class="button-text-wrapper">
              <span class="button-title">Cours d'Ukul√©l√©</span>
              <span class="button-description">Initiez-vous √† l'ukul√©l√©</span>
            </div>
            <span class="button-arrow">‚Üí</span>
          </div>
        </a>

        <a href="/cours/cours-de-solfege" class="course-button theme-solfege">
          <div class="button-background" style="background-image: url('/images/cours/hero-solfege.webp')"></div>
          <div class="button-content">
            <span class="button-icon">üéº</span>
            <div class="button-text-wrapper">
              <span class="button-title">Cours de Solf√®ge</span>
              <span class="button-description">Ma√Ætrisez la th√©orie musicale</span>
            </div>
            <span class="button-arrow">‚Üí</span>
          </div>
        </a>
      </div>
    </div>
  </section>

  <Footer />
  <StickyCTAMobile />
  <FOMONotifications />
</Layout>

<style>
  .course-buttons {
    padding: var(--section-padding);
    background: var(--bg-light);
  }

  .course-buttons .section-title {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: var(--section-gap);
    color: var(--theme-current);
    background: linear-gradient(135deg, var(--theme-current) 0%, var(--theme-current-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: fadeInUp 0.6s ease forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .buttons-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--card-gap);
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  .course-button {
    position: relative;
    height: 200px;
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    text-decoration: none;
    color: white;
    transition: var(--transition-base);
    box-shadow: var(--box-shadow);
  }

  .button-background {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    transition: all 0.5s ease;
  }

  .theme-guitar .button-background {
    background-color: var(--theme-guitar);
  }

  .theme-piano .button-background {
    background-color: var(--theme-piano);
  }

  .theme-ukulele .button-background {
    background-color: var(--theme-ukulele);
  }

  .theme-solfege .button-background {
    background-color: var(--theme-solfege);
  }

  .button-content {
    position: relative;
    z-index: 1;
    height: 100%;
    padding: 1.5rem;
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.3),
      rgba(0, 0, 0, 0.8)
    );
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 1rem;
    transition: all 0.3s ease;
  }

  .button-icon {
    font-size: 2rem;
    background: rgba(255, 255, 255, 0.2);
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    margin-bottom: auto;
  }

  .button-text-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .button-title {
    font-size: 1.3rem;
    font-weight: 600;
  }

  .button-description {
    font-size: 0.9rem;
    opacity: 0.9;
  }

  .button-arrow {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
  }

  .course-button:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
  }

  .course-button:hover .button-background {
    transform: scale(1.1);
  }

  .course-button:hover .button-content {
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.5),
      rgba(0, 0, 0, 0.9)
    );
  }

  .course-button:hover .button-arrow {
    transform: translateX(5px);
  }

  @media (max-width: 1200px) {
    .buttons-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .buttons-grid {
      grid-template-columns: 1fr;
    }

    .course-button {
      height: 160px;
    }

    .button-icon {
      width: 40px;
      height: 40px;
      font-size: 1.5rem;
    }

    .button-title {
      font-size: 1.2rem;
    }
  }
</style>
